"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[2009],{20154:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(94184),l=r.n(n),i=r(67294),a=r(64036);function o({className:e="RowSelectButton-selectButtonContainer-tTR26j",visibleClassName:t="RowSelectButton-isVisible-Xuw8OY",isSelected:r,isInSelectionRange:n,isVisible:o,title:s,tabIndex:c,onPress:u}){return i.createElement("div",{className:l()(e,o&&t)},i.createElement(a.Z,{"aria-hidden":-1===c?"true":void 0,className:"RowSelectButton-selectButton-RIxDKH SelectButton-selectButton-SvPc9f Link-link-vSsQW1",isInSelectionRange:n,isSelected:r,tabIndex:c,title:s,onPress:u}))}},12009:(e,t,r)=>{r.r(t),r.d(t,{default:()=>on});var n=r(67294),l=r(69605),i=r(74309),a=r(2200),o=r(82051),s=r(28216),c=r(48871),u=r(75549),m=r(5513),d=r(60316),v=r(27082),f=r(5562),p=r(84936),h=r(40872),y=r(31235),Z=r(14146),g=r(19595),E=r(67720),P=r(24546),b=r(13517),S=r(76714),I=r(8980),k=r(41768),C=r(72325),R=r(98640),O=r(41542),L=r(53162),x=r(57051),w=r(71594),T=r(55247),j=r(6642),N=r(17867),M=r(38205),z=r(36900),A=r(42460),B=r(21641),H=r(52598),q=r(42934);function D({pivot:e}){const t=(0,s.I0)(),{pivot:r}=(0,s.v9)(z.Z),l=(0,n.useMemo)((()=>e===B.mr.TopResults?(0,f.Z)("Top Results"):(0,H.Z)(e)),[e]),i=(0,n.useCallback)((()=>{t(A.Z.actions.setPivot(e)),t(A.Z.actions.markPending())}),[t,e]);return n.createElement("div",{className:r===e?"ExperimentalQuickSearchResultsPageHeader-activePivot-RDus3g":void 0},n.createElement(O.zx,{onPress:i},l))}function W(){const{query:e,pivot:t,isPending:r}=(0,s.v9)(z.Z),l=(0,s.v9)(N.Z),i=(0,n.useMemo)((()=>r?(0,f.Z)('Searching for "{query}"',{query:e}):t===B.mr.TopResults?(0,f.Z)('Top Results for "{query}"',{query:e}):(0,f.Z)('Search results for "{query}" in {pivot}',{query:e,pivot:(0,H.Z)(t)})),[e,t,r]),a=(0,M.Z)();return n.createElement(L.Kq,{gap:"m",paddingY:"m"},l?n.createElement(j.Z,null):n.createElement(q.Z,null,n.createElement(T.Z,null,n.createElement(L.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},e?n.createElement(w.x,{as:"h1",level:"heading-2"},i):null,r?n.createElement(x.$,{size:"s"}):null))),a.length?n.createElement("div",{className:"ExperimentalQuickSearchResultsPageHeader-pivotButtons-Rd7z15"},n.createElement(L.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},n.createElement(D,{pivot:B.mr.TopResults}),a.map((e=>n.createElement(D,{key:e,pivot:e}))))):null)}var K=r(5977),U=(r(93552),r(90071)),Q=r(22122),F=r(19756),G=r(92600);n.Component,n.Component;var $=function(e,t){return"function"==typeof e?e(t):e},_=function(e,t){return"string"==typeof e?(0,U.ob)(e,null,null,t):e},X=function(e){return e},Y=n.forwardRef;void 0===Y&&(Y=X);var V=Y((function(e,t){var r=e.innerRef,l=e.navigate,i=e.onClick,a=(0,F.Z)(e,["innerRef","navigate","onClick"]),o=a.target,s=(0,Q.Z)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),l())}});return s.ref=X!==Y&&t||r,n.createElement("a",s)})),J=Y((function(e,t){var r=e.component,l=void 0===r?V:r,i=e.replace,a=e.to,o=e.innerRef,s=(0,F.Z)(e,["component","replace","to","innerRef"]);return n.createElement(K.s6.Consumer,null,(function(e){e||(0,G.Z)(!1);var r=e.history,c=_($(a,e.location),e.location),u=c?r.createHref(c):"",m=(0,Q.Z)({},s,{href:u,navigate:function(){var t=$(a,e.location);(i?r.replace:r.push)(t)}});return X!==Y?m.ref=t||o:m.innerRef=o,n.createElement(l,m)}))})),ee=function(e){return e},te=n.forwardRef;void 0===te&&(te=ee),te((function(e,t){var r=e["aria-current"],l=void 0===r?"page":r,i=e.activeClassName,a=void 0===i?"active":i,o=e.activeStyle,s=e.className,c=e.exact,u=e.isActive,m=e.location,d=e.sensitive,v=e.strict,f=e.style,p=e.to,h=e.innerRef,y=(0,F.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return n.createElement(K.s6.Consumer,null,(function(e){e||(0,G.Z)(!1);var r=m||e.location,i=_($(p,r),r),Z=i.pathname,g=Z&&Z.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=g?(0,K.LX)(r.pathname,{path:g,exact:c,sensitive:d,strict:v}):null,P=!!(u?u(E,r):E),b=P?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(s,a):s,S=P?(0,Q.Z)({},f,{},o):f,I=(0,Q.Z)({"aria-current":P&&l||null,className:b,style:S,to:i},y);return ee!==te?I.ref=t||h:I.innerRef=h,n.createElement(J,I)}))}));var re=r(52725),ne=r(17524),le=r(93021),ie=r(65671),ae=r(51139),oe=r(29298);function se(){const e=(0,ae.Z)(le.G.IncludeDiscoverSource);return n.createElement(L.Kq,{gap:"m",verticalAlign:"top",width:"100%"},n.createElement(W,null),n.createElement(b.Z,{description:e?n.createElement(ie.Z,{message:(0,f.Z)("Try adjusting your search term or filter to find what you’re looking for. Visit {openLink}Discover{closeLink} to find more content."),tags:[{open:"openLink",close:"closeLink",component:J,color:"accent",href:(0,oe.Z)("media",{providerIdentifier:ne.Xp},{source:re.Sd})}]}):(0,f.Z)("Try adjusting your search term or filter to find what you’re looking for."),icon:n.createElement(c.default,{color:"accent",size:"xxxl"}),title:(0,f.Z)("No Results Found")}))}var ce=r(41921),ue=r(11956),me=r(26627),de=r(26098),ve=r(520),fe=r(46396),pe=r(74257),he=r(77045),ye=r(20154),Ze=r(56658),ge=r(79026),Ee=r(15762),Pe=r(70048),be=r(73219);const Se={underlay:"SearchResultLinkUnderlay-underlay-fZb5JY Link-link-vSsQW1"};var Ie=Object.defineProperty,ke=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,Re=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,xe=(e,t,r)=>t in e?Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,we=(e,t)=>{for(var r in t||(t={}))Oe.call(t,r)&&xe(e,r,t[r]);if(Re)for(var r of Re(t))Le.call(t,r)&&xe(e,r,t[r]);return e},Te=(e,t)=>ke(e,Ce(t));function je(e){var t=e,{className:r=Se.underlay,mergedResult:l,result:i}=t,a=((e,t)=>{var r={};for(var n in e)Oe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Re)for(var n of Re(e))t.indexOf(n)<0&&Le.call(e,n)&&(r[n]=e[n]);return r})(t,["className","mergedResult","result"]);const[o,c]=(0,y.c9)(),{onResultSelect:u}=(0,R.x)(),m=(0,s.v9)(ge.Z),d=(0,n.useMemo)((()=>l?(0,Pe.Z)(m,l):i),[m,l,i]),v=(0,n.useMemo)((()=>(0,be.Em)(d)?null:(0,Ee.Z)({server:o,provider:c,result:d})),[c,d,o]),f=(0,n.useCallback)((()=>{null==u||u(d)}),[u,d]);return v?n.createElement(pe.Z,Te(we({},a),{className:r,to:v,onPress:f})):n.createElement(pe.Z,Te(we({},a),{className:r,onPress:f}))}var Ne=r(23321),Me=r(34909);var ze=Object.defineProperty,Ae=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,We=(e,t,r)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ke=(e,t)=>{for(var r in t||(t={}))qe.call(t,r)&&We(e,r,t[r]);if(He)for(var r of He(t))De.call(t,r)&&We(e,r,t[r]);return e},Ue=(e,t)=>Ae(e,Be(t)),Qe=(e,t)=>{var r={};for(var n in e)qe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&He)for(var n of He(e))t.indexOf(n)<0&&De.call(e,n)&&(r[n]=e[n]);return r};function Fe(e){var t=e,{item:r,cellIndex:l}=t,i=Qe(t,["item","cellIndex"]);const a=(0,ue.Z)(i),[o,s]=(0,he.Z)();if(!r)return null;const c=(0,be.Em)(r)?r:void 0,u=(0,be.Em)(r)?r.items[0]:r;return(0,be.jc)(u)?n.createElement($e,Ue(Ke({},a),{hoverRef:s,isHovered:o,mergedResult:c,result:u})):n.createElement(Ge,Ue(Ke({},a),{hoverRef:s,isHovered:o,mergedResult:c,result:u}))}function Ge(e){var t=e,{children:r,mergedResult:l,result:i,hoverRef:a,isHovered:o,onSelectPress:c}=t,u=Qe(t,["children","mergedResult","result","hoverRef","isHovered","onSelectPress"]);const m=(0,s.v9)(N.Z);return n.createElement("div",Ke({},u),n.createElement(Me.Z,{ref:a,isHovered:o},m?n.createElement(pe.Z,{className:"SearchResultCell-selectOverlay-I1EDig Link-link-vSsQW1",onPress:c}):n.createElement(je,{mergedResult:l,result:i}),n.createElement("div",{className:"SearchResultCell-overlay-FuFnS2"},n.createElement(Ne.Z,{isHighlighted:o,mergedResult:l,result:i})),r),n.createElement(ce.i,{size:"s"}))}function $e(e){var t=e,{result:r,isHovered:l}=t,i=Qe(t,["result","isHovered"]);const a=(0,s.I0)(),[o,c]=(0,y.c9)(),u=r.item,m=(0,de.Z)(u.sourceURI),{isSelected:d,isInSelectionRange:v,onToggleSelect:f}=(0,Ze.Z)({isHovered:l,metadataItem:u,metadataItemState:m});return(0,me.Z)(u),(0,n.useEffect)((()=>{!o.isCloud&&m.isStale&&a(ve.Z.actions.fetchMetadataItem({server:o,provider:c,key:u.key}))}),[a,u,m.isStale,c,o]),n.createElement(Ge,Ue(Ke({},i),{isHovered:l,result:r,onSelectPress:f}),n.createElement(ye.Z,{className:"SearchResultCell-selectButtonContainer-xYPpGS",isInSelectionRange:v,isSelected:d,isVisible:d||v||l,title:(0,fe.Z)(u),onPress:f}))}var _e=r(42722),Xe=r(41259),Ye=r(3852),Ve=r(7910),Je=r(36996),et=r(12669),tt=r(7796),rt=Object.defineProperty,nt=Object.defineProperties,lt=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,st=(e,t,r)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ct=(e,t)=>{for(var r in t||(t={}))at.call(t,r)&&st(e,r,t[r]);if(it)for(var r of it(t))ot.call(t,r)&&st(e,r,t[r]);return e};const ut=parseInt(tt.Z.v4PagePadding,10);function mt({pivot:e,query:t}){const r=(0,n.useRef)(null),l=(0,s.I0)(),i=(0,u.b)(),[a,o]=(0,n.useState)(null),[O,L]=(0,n.useState)(!0),x=(0,Xe.Z)(),w=(0,E.Z)(),T=(0,M.Z)(),{query:j,pivot:N,isPending:B,isPopulated:H}=(0,s.v9)(z.Z),q=(0,s.v9)((0,Ye.Z)());(0,g.Z)(),(0,n.useEffect)((()=>{a&&((0,be.Em)(a)?(D.onOpen(),w(a.items[0])):(x(a,O),o(null),L(!0)))}),[a]),(0,n.useEffect)((()=>(r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((()=>{l((0,m.c4)({pathname:p.Z.join(Je.Z.search,{pivot:N,query:j}),replace:!0}))}),h.Xt),()=>{r.current&&window.clearTimeout(r.current)})),[j,l,N]),(0,n.useEffect)((()=>{(0,v.c9)((()=>{e&&l(A.Z.actions.setPivot(e)),t&&l(A.Z.actions.setQuery(t))}))}),[]),(0,n.useEffect)((()=>()=>{l(A.Z.actions.setQuery("")),l(A.Z.actions.clearResults())}),[l]);const D=(0,n.useMemo)((()=>{return e=ct({},i),nt(e,lt({onOpenChange:e=>{i.onOpenChange(e),e||(o(null),L(!0))}}));var e}),[i]),K=(0,n.useCallback)((e=>{const{item:t}=e;if(!t)return n.createElement(n.Fragment,null);const r=(0,be.Em)(t)?t.items[0]:t,{serverIdentifier:l,providerIdentifier:i}=(0,d.Z)(r.source);return n.createElement(y.ZP,{key:(0,Ve.Z)(t),machineIdentifier:l,providerIdentifier:i},n.createElement(Fe,ct({},e)))}),[]),U=(0,_e.Z)(),Q=(0,n.useMemo)((()=>(0,Z.Z)({rowHeight:U+2*(0,et.Z)("s"),overscan:1,outerPaddingLeft:ut,outerPaddingRight:ut})),[U]),F=(0,n.useCallback)(((e,t)=>{o(e),L(t)}),[]);return j?(null==T?void 0:T.length)?j&&!H?n.createElement(b.Z,null,n.createElement(k.Z,null)):!B&&H&&0===q.length?n.createElement(se,null):n.createElement(P.Z,{scrollDirection:S.I.None},n.createElement(W,null),n.createElement(R.Z,{onResultSelect:F},n.createElement(I.Z,{cellComponentFactory:K,items:q,layout:Q,totalSize:q.length}),a&&(0,be.Em)(a)?n.createElement(C.Z,{modalState:D,result:a,onResultSelect:F}):null)):n.createElement(b.Z,{description:(0,f.Z)("Please enable at least one source in search settings and try again."),icon:n.createElement(c.default,{color:"accent",size:"xxxl"})}):n.createElement(b.Z,{description:(0,f.Z)("You can search for Titles, People, Genres and more..."),icon:n.createElement(c.default,{color:"accent",size:"xxxl"})})}var dt=r(87212),vt=r(39537),ft=r(94173),pt=r(1811),ht=r(14877),yt=r(14789),Zt=r(12415),gt=r(41538),Et=r(36322),Pt=r(89894),bt=r(24418),St=r(28582),It=r(17467),kt=r(89186),Ct=r(75212),Rt=r(6033),Ot=r(94184),Lt=r.n(Ot),xt=r(94372),wt=r(42423),Tt=r(39272),jt=r(5178),Nt=r(54778),Mt=r(31298),zt=r(69557),At=r(37991),Bt=r(70537);const Ht="SearchAvailabilityPlatformPosterListItem-title-zuBWeH MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu";var qt=Object.getOwnPropertySymbols,Dt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable;function Kt({platformResult:e,posterSize:t}){const[r,l]=(0,y.c9)(),i=(0,E.Z)(),{metricsContextTuple:o}=(0,a.Zn)(),s=(0,Ee.Z)({result:e,server:r,provider:l,metricsContextTuple:o}),{hoverRef:c,isHovered:u,isActionsMenuOpen:m,isActionsMenuClosing:d,isActionsPending:v,isActionsVisible:f,onActionsMenuClose:p,onActionsMenuToggle:h,actionsMenuButtonID:Z}=(0,Bt.Z)({server:r,provider:l}),g=String(e.item.id),{confirmServiceToggleModal:P,toggleServiceMenuItem:b}=(0,At.Z)({service:g,onMenuClose:p}),S=(0,n.useCallback)((()=>{i(e)}),[i,e]);return n.createElement(L.Kq,{align:"center",gap:"xxs"},n.createElement(Tt.Z,{ref:c,className:"SearchAvailabilityPlatformPosterListItem-card-XNDYK_ PosterCard-card-BRB1k_"},n.createElement(zt.Z,{imageClassName:"SearchAvailabilityPlatformPosterListItem-poster-lbPsen",posterSize:t,tag:e.item}),s?n.createElement(jt.Z,{className:"SearchAvailabilityPlatformPosterListItem-link-uR5v67 PosterCardLink-link-LozvMm Link-link-vSsQW1",hoverClassName:"SearchAvailabilityPlatformPosterListItem-hoveredLink-T4akHO PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1",isHovered:u,to:s,onPress:S}):null,f?n.createElement(wt.Z,{className:Lt()("SearchAvailabilityPlatformPosterListItem-moreButton-cEgs15 MetadataPosterCardActions-moreButton-kNJ7sJ MetadataPosterCardActions-button-YYlmeL Link-link-vSsQW1",!u&&d&&"SearchAvailabilityPlatformPosterListItem-isHidden-aTxvGN"),id:Z,isPending:v,tabIndex:-1,onPress:h}):null,n.createElement(xt.Z,{isOpen:m,target:Z,onMenuClose:p},b),P),s?n.createElement(pe.Z,{className:Ht,"data-testid":"metadataTitleLink",title:e.item.tag,to:s,onPress:S},e.item.tag):n.createElement("span",{className:Ht,title:e.item.tag},e.item.tag))}const Ut=n.forwardRef(((e,t)=>{var r=e,{item:l}=r,i=((e,t)=>{var r={};for(var n in e)Dt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&qt)for(var n of qt(e))t.indexOf(n)<0&&Wt.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const a=(0,Nt.Z)(i);if(!l)return null;const o=(0,d.Z)(l.source);return n.createElement("div",{ref:(0,Mt.Z)(t,a.cellRef),"data-testid":"cellItem",style:a.style},n.createElement(y.ZP,{machineIdentifier:o.serverIdentifier,providerIdentifier:o.providerIdentifier},n.createElement(Kt,{platformResult:l,posterSize:i.cellWidth})))}));var Qt=r(34007),Ft=r(88050),Gt=r(91135),$t=r(59194),_t=r(85180),Xt=r(46598),Yt=r(3360),Vt=r(65233),Jt=r(72071);const er="SearchChannelPosterListItem-title-A92TyE undefined";var tr=Object.getOwnPropertySymbols,rr=Object.prototype.hasOwnProperty,nr=Object.prototype.propertyIsEnumerable;function lr({children:e,result:t}){const r=(0,n.useMemo)((()=>(null==t?void 0:t.source)?(0,d.Z)(t.source):null),[null==t?void 0:t.source]);return r?n.createElement(y.ZP,{machineIdentifier:r.serverIdentifier,providerIdentifier:r.providerIdentifier},e):n.createElement(n.Fragment,null,e)}function ir({channelResult:e,posterWidth:t}){var r;const l=(0,s.I0)(),[i,a]=(0,y.c9)(),[o,c]=(0,he.Z)(),u=(0,Jt.Z)({identifier:a.metricsIdentifier,type:vt.pG.Channel}),m=(0,E.Z)(),d=(0,n.useMemo)((()=>(0,_t.Z)({width:t,aspectRatio:ft.oz})),[t]),v=(0,Xt.Z)({server:i,provider:a,width:d.width,height:d.height,url:e.item.art}),p=(0,n.useCallback)((()=>{u({action:Ft.NH}),m(e),l((0,$t.gj)({server:i,provider:a,legacyAction:(0,Qt.lS)({options:{type:Gt.pX,identifier:e.item.id}})}))}),[e,l,a,i,u,m]);return n.createElement(L.Kq,{gap:"xxs"},n.createElement(Tt.Z,{ref:c},v?n.createElement(Vt.Z,{fit:Vt.k.Contain,height:d.height,src:v,width:d.width}):n.createElement("div",{className:"SearchChannelPosterListItem-emptyPoster-KgcQIO"}),n.createElement(jt.Z,{isHovered:o,onPress:p},o?n.createElement(Yt.Z,{"aria-label":(0,f.Z)("Watch Now"),circleClassName:"SearchChannelPosterListItem-playButtonCircle-wS6tpq MetadataPosterCardActions-playCircle-rOnuVA PlayButton-playCircle-fK1f_v MetadataPosterCardCircle-cardCircle-gBHNQG",className:"SearchChannelPosterListItem-playButton-BngxNG MetadataPosterCardActions-playCoverButton-UfPjfq PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1 MetadataPosterCardActions-playButton-tT8c2I PlayButton-playButton-vS1WII MetadataPosterCardActions-button-YYlmeL Link-link-vSsQW1",onPress:p}):null)),n.createElement("div",{className:"SearchChannelPosterListItem-titleContainer-ACKZ0G"},n.createElement("div",{className:er},e.item.title),(null==(r=e.item.categories)?void 0:r.length)?n.createElement("div",{className:Lt()(er,"SearchChannelPosterListItem-isSecondary-c4iiIh MetadataPosterCardTitle-isSecondary-gGuBpd")},e.item.categories[0]):null))}const ar=n.forwardRef(((e,t)=>{var r=e,{item:l}=r,i=((e,t)=>{var r={};for(var n in e)rr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&tr)for(var n of tr(e))t.indexOf(n)<0&&nr.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const a=(0,Nt.Z)(i);return l?n.createElement("div",{ref:(0,Mt.Z)(t,a.cellRef),"data-testid":"cellItem",style:a.style},n.createElement(lr,{result:l},n.createElement(ir,{channelResult:l,posterWidth:i.cellWidth}))):null}));var or=r(50327),sr=r(8200);var cr=Object.getOwnPropertySymbols,ur=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable;function dr({children:e,result:t}){const r=(0,n.useMemo)((()=>(null==t?void 0:t.source)?(0,d.Z)(t.source):null),[null==t?void 0:t.source]);return r?n.createElement(y.ZP,{machineIdentifier:r.serverIdentifier,providerIdentifier:r.providerIdentifier},e):n.createElement(n.Fragment,null,e)}function vr({result:e,posterSize:t}){const[r,l]=(0,y.c9)(),[i,o]=(0,he.Z)(),s=(0,E.Z)(),{metricsContextTuple:c}=(0,a.Zn)(),u=(0,Xt.Z)({server:r,provider:l,width:t,height:t,url:e.item.thumb}),m=(0,Ee.Z)({result:e,server:r,provider:l,metricsContextTuple:c}),d=(0,n.useCallback)((()=>{s(e)}),[e,s]);return n.createElement(L.Kq,{align:"center",gap:"xxs"},n.createElement(Tt.Z,{ref:o,className:"SearchDirectoryPosterListItem-card-BsC5cr PosterCard-card-BRB1k_"},u?n.createElement(Vt.Z,{className:"SearchDirectoryPosterListItem-rounded-zBX_8Z",fit:Vt.k.Cover,height:t,src:u,width:t}):n.createElement(sr.Z,{className:"SearchDirectoryPosterListItem-anagram-UIZ4pb Anagram-anagram-H5cIHF",height:t,name:e.item.title,width:t}),m?n.createElement(jt.Z,{className:"SearchDirectoryPosterListItem-link-bIIvRj PosterCardLink-link-LozvMm Link-link-vSsQW1",hoverClassName:"SearchDirectoryPosterListItem-hoveredLink-x5Rcqx PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1",isHovered:i,to:m,onPress:d}):null),n.createElement(or.Z,{className:"SearchDirectoryPosterListItem-title-MQLMMw MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu",metadataItem:e.item,onPress:d}))}const fr=n.forwardRef(((e,t)=>{var r=e,{item:l}=r,i=((e,t)=>{var r={};for(var n in e)ur.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&cr)for(var n of cr(e))t.indexOf(n)<0&&mr.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const a=(0,Nt.Z)(i);return l?n.createElement("div",{ref:(0,Mt.Z)(t,a.cellRef),"data-testid":"cellItem",style:a.style},n.createElement(dr,{result:l},n.createElement(vr,{posterSize:i.cellWidth,result:l}))):null}));var pr=r(40391),hr=Object.defineProperty,yr=Object.defineProperties,Zr=Object.getOwnPropertyDescriptors,gr=Object.getOwnPropertySymbols,Er=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,br=(e,t,r)=>t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Sr(e){var t,r=e,{result:l,mergedResult:i}=r,a=((e,t)=>{var r={};for(var n in e)Er.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&gr)for(var n of gr(e))t.indexOf(n)<0&&Pr.call(e,n)&&(r[n]=e[n]);return r})(r,["result","mergedResult"]);const o=(0,E.Z)(),s=(0,n.useCallback)((()=>{o(l)}),[l,o]);return n.createElement(pr.Z,(c=((e,t)=>{for(var r in t||(t={}))Er.call(t,r)&&br(e,r,t[r]);if(gr)for(var r of gr(t))Pr.call(t,r)&&br(e,r,t[r]);return e})({},a),u={item:l.item,mergedResult:i,routeKey:(null==(t=l.item)?void 0:t.type)===vt.pG.Track?"parentKey":"key",onPress:s},yr(c,Zr(u))));var c,u}var Ir=r(9429);const kr="SearchTagPosterListItem-title-Fc4H1e MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu";var Cr=Object.getOwnPropertySymbols,Rr=Object.prototype.hasOwnProperty,Or=Object.prototype.propertyIsEnumerable;function Lr({children:e,result:t}){const r=(0,n.useMemo)((()=>(null==t?void 0:t.source)?(0,d.Z)(t.source):null),[null==t?void 0:t.source]);return r?n.createElement(y.ZP,{machineIdentifier:r.serverIdentifier,providerIdentifier:r.providerIdentifier},e):n.createElement(n.Fragment,null,e)}function xr({tagResult:e,posterSize:t,mergedResult:r}){const[l,i]=(0,y.c9)(),[o,s]=(0,he.Z)(),c=(0,E.Z)(),{metricsContextTuple:u}=(0,a.Zn)(),m=(0,Ee.Z)({result:e,server:l,provider:i,metricsContextTuple:u}),d=(0,n.useCallback)((()=>{c(e)}),[e,c]);return n.createElement(L.Kq,{align:"center",gap:"xxs"},n.createElement(Tt.Z,{ref:s,className:"SearchTagPosterListItem-card-DoBAj7 PosterCard-card-BRB1k_"},n.createElement(zt.Z,{imageClassName:"SearchTagPosterListItem-poster-K7H4vg",posterSize:t,tag:e.item}),m?n.createElement(jt.Z,{className:"SearchTagPosterListItem-link-AP6yHU PosterCardLink-link-LozvMm Link-link-vSsQW1",hoverClassName:"SearchTagPosterListItem-hoveredLink-VfnTkp PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1",isHovered:o,to:m,onPress:d}):null),m?n.createElement(pe.Z,{className:kr,"data-testid":"metadataTitleLink",title:e.item.tag,to:m,onPress:d},e.item.tag):n.createElement("span",{className:kr,title:e.item.tag},e.item.tag),n.createElement(Ir.Z,{mergedResult:r}))}const wr=n.forwardRef(((e,t)=>{var r=e,{item:l,mergedResult:i}=r,a=((e,t)=>{var r={};for(var n in e)Rr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Cr)for(var n of Cr(e))t.indexOf(n)<0&&Or.call(e,n)&&(r[n]=e[n]);return r})(r,["item","mergedResult"]);const o=(0,Nt.Z)(a);return l?n.createElement("div",{ref:(0,Mt.Z)(t,o.cellRef),"data-testid":"cellItem",style:o.style},n.createElement(Lr,{result:l},n.createElement(xr,{mergedResult:i,posterSize:a.cellWidth,tagResult:l}))):null}));var Tr=r(28277),jr=r(29039);function Nr(){const{query:e,pivot:t,isPending:r}=(0,s.v9)(z.Z),l=(0,s.v9)(N.Z),i=(0,n.useMemo)((()=>r?(0,f.Z)('Searching for "{query}"',{query:e}):t===B.mr.TopResults?(0,f.Z)('Top search results for "{query}"',{query:e}):(0,f.Z)('Search results for "{query}" in {pivot}',{query:e,pivot:(0,H.Z)(t)})),[e,t,r]);return l?n.createElement(j.Z,null):n.createElement(q.Z,null,n.createElement(T.Z,null,n.createElement(L.Kq,{gap:"m",orientation:"horizontal"},e?n.createElement(w.x,{as:"h1",color:"muted",level:"heading-2"},i):null,r?n.createElement(x.$,{size:"s"}):null)),n.createElement(Tr.Z,null,n.createElement(jr.Z,{listStyles:[gt.n.Search],selectedListStyle:gt.n.Search})))}var Mr=r(23777),zr=r(48435),Ar=r(30373),Br=r(82913);var Hr=Object.defineProperty,qr=Object.defineProperties,Dr=Object.getOwnPropertyDescriptors,Wr=Object.getOwnPropertySymbols,Kr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,Qr=(e,t,r)=>t in e?Hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fr=(e,t)=>{for(var r in t||(t={}))Kr.call(t,r)&&Qr(e,r,t[r]);if(Wr)for(var r of Wr(t))Ur.call(t,r)&&Qr(e,r,t[r]);return e},Gr=(e,t)=>qr(e,Dr(t));const $r=parseInt(tt.Z.v4PagePadding,10),_r=parseInt(tt.Z.v4CardTitleHeight,10),Xr=parseInt(tt.Z.v4CardTitleGap,10),Yr=parseInt(tt.Z.v4CardShadowSize,10),Vr=parseInt(tt.Z.gapMedium,10);function Jr(e){return e.results.length?e.results.reduce(((t,r)=>{if((0,be.s_)(r)){const n=e.id,l=t.find((({hub:e})=>e.key===n));if(l)l.items.push(r),l.hub.initialSize++;else{const{source:l,sourceURI:i}=r,a={hub:en({title:(0,f.Z)("Channels"),context:`hub.${e.id}.${gt.U.Channels}`,type:gt.U.Channels,key:n,source:l,sourceURI:i}),items:[r]};t.push(a)}}else if((0,be.g$)(r)){const n=(0,be.Em)(r)?r.type:r.item.tagType;if(null==n)return t;const l=(0,ht.Z)(n),i=`${e.id}-${l}`,a=t.find((({hub:e})=>e.key===i));if(a)a.items.push(r),a.hub.initialSize++;else{const{source:n,sourceURI:a}=(0,be.Em)(r)?r.items[0]:r,o={hub:en({title:(0,yt.Z)(l,!0),context:`hub.${e.id}.${gt.U.Person}`,type:gt.U.Person,key:i,source:n,sourceURI:a}),items:[r]};t.push(o)}}else if((0,be.jc)(r)||(0,be.EX)(r)){const{type:n,subtype:l}=(0,be.Em)(r)?r.items[0].item:r.item,i=function(e,t){return t===vt.y_.Clip?gt.U.Clip:(0,Pt.Z)(e)}(n,l),a=`${e.id}-${i}`,o=t.find((({hub:e})=>e.key===a));if(!o&&i){const{source:o,sourceURI:s}=(0,be.Em)(r)?r.items[0]:r,c={hub:en({title:(0,pt.Z)(n,l,!0),context:`hub.${e.id}.${i}`,type:i,key:a,source:o,sourceURI:s}),items:[r]};t.push(c)}else o&&(o.items.push(r),o.hub.initialSize++)}return t}),[]):null}function en({type:e,key:t,title:r,source:n,sourceURI:l,context:i}){return{type:e,more:!1,initialSize:1,isStale:!1,key:t,hubIdentifier:"",source:n,sourceURI:l,title:r,context:i}}function tn({index:e,hub:t,items:r}){const[l,i]=(0,y.c9)(),o=(0,s.v9)(Ct.Z),c=(0,n.useMemo)((()=>t.type===gt.U.Person?(0,It.Z)({columnWidth:o,aspectRatio:ft.Zp,titleHeight:2*_r+Xr,innerHorizontalPadding:Vr,outerPaddingTop:Yr,outerPaddingRight:$r,outerPaddingBottom:Yr,outerPaddingLeft:$r}):(0,Et.Z)({listType:t.type,listStyle:gt.n.Search,columnWidth:o,titleCount:t.type===gt.U.Channels?2:void 0})),[t,o]),u=(0,n.useMemo)((()=>o=>o.item?n.createElement(Zt.ZP,{key:(0,Ve.Z)(o.item),containerProvider:i,containerServer:l,containerType:t.type,listStyle:gt.n.Search},n.createElement(Br.ZP,{items:r},n.createElement(a.ZP,{column:o.column,name:t.context,row:e},n.createElement(nn,Fr({},o))))):n.createElement(n.Fragment,null)),[t.context,t.type,e,r,i,l]);return n.createElement(St.Z,{cellComponentFactory:u,hub:t,hubTitleComponent:rn,items:r,layout:c,totalSize:r.length})}function rn({hub:e}){return n.createElement(bt.Z,null,e.title," (",e.initialSize,")")}function nn(e){var t=((e,t)=>{var r={};for(var n in e)Kr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Wr)for(var n of Wr(e))t.indexOf(n)<0&&Ur.call(e,n)&&(r[n]=e[n]);return r})(e,[]);if(!t.item)return null;const r=(0,be.Em)(t.item)?t.item.items[0]:t.item;return(0,be.s_)(r)?n.createElement(ar,Gr(Fr({},t),{item:r})):(0,be.g$)(r)?r.item.tagType===vt.dx.AvailabilityPlatform?n.createElement(Ut,Gr(Fr({},t),{item:r})):n.createElement(wr,Gr(Fr({},t),{item:r,mergedResult:(0,be.Em)(t.item)?t.item:void 0})):(0,be.jc)(r)?n.createElement(Sr,Gr(Fr({},t),{mergedResult:(0,be.Em)(t.item)?t.item:void 0,result:r})):(0,be.EX)(r)?n.createElement(fr,Gr(Fr({},t),{item:r})):null}function ln({query:e}){const t=(0,n.useRef)(null),r=(0,s.I0)(),{query:l,isPopulated:i}=(0,s.v9)(z.Z),a=(0,s.v9)((0,zr.Z)()),o=(0,s.v9)((0,Mr.Z)()),u=(0,ae.Z)(le.G.IncludeDiscoverSource),Z=(0,n.useMemo)((()=>(0,Ar.Z)(a,o).filter((e=>e.results.length>0)).map((e=>Gr(Fr({},e),{hubs:Jr(e)})))),[o,a]);if((0,n.useEffect)((()=>(t.current&&window.clearTimeout(t.current),t.current=window.setTimeout((()=>{r((0,m.c4)({pathname:p.Z.join(Je.Z.search,{query:l}),replace:!0}))}),h.Xt),()=>{t.current&&window.clearTimeout(t.current)})),[l,r]),(0,n.useEffect)((()=>{e&&!i&&(0,v.c9)((()=>{r(A.Z.actions.setQuery(e))}))}),[]),!l)return n.createElement(b.Z,{description:(0,f.Z)("You can search for Titles, People, Genres and more..."),icon:n.createElement(c.default,{color:"accent",size:"xxxl"})});if(l&&!i)return n.createElement(b.Z,null,n.createElement(k.Z,null));if(i&&0===Z.length)return n.createElement(b.Z,{description:u?n.createElement(ie.Z,{message:(0,f.Z)("Try adjusting your search term or filter to find what you’re looking for. Visit {openLink}Discover{closeLink} to find more content."),tags:[{open:"openLink",close:"closeLink",component:dt.rU,color:"accent",href:(0,oe.Z)("media",{providerIdentifier:ne.Xp},{source:re.Sd})}]}):(0,f.Z)("Try adjusting your search term or filter to find what you’re looking for."),icon:n.createElement(c.default,{color:"accent",size:"xxxl"}),title:(0,f.Z)("No Results Found")});let g=0;return n.createElement(P.Z,{scrollDirection:S.I.None},n.createElement(Nr,null),n.createElement(kt.Z,null,Z.map(((e,t)=>{var r,l,i;return(null==(r=e.hubs)?void 0:r.length)?(g+=(null==(i=null==(l=Z[t-1])?void 0:l.hubs)?void 0:i.length)||0,n.createElement(n.Fragment,{key:e.id},n.createElement("div",{className:"SearchResultsPage-sectionTitle-BThL8n"},n.createElement(L.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},n.createElement(w.x,{level:"heading-3"},e.title),n.createElement(Rt.Z,{group:e}))),e.hubs.map((({hub:e,items:t},r)=>{const{serverIdentifier:l,providerIdentifier:i}=(0,d.Z)(e.source);return n.createElement(y.ZP,{key:e.key,machineIdentifier:l,providerIdentifier:i},n.createElement(tn,{hub:e,index:g+r,items:t}))})))):null}))))}var an=r(75989);function on(){const e=(0,i.Z)(),t=(0,an.Z)(e.query),r=(0,an.Z)(e.pivot),s=(0,o.Z)();return n.createElement(a.ZP,{metricsPage:l.Re},s?n.createElement(mt,{pivot:r,query:t}):n.createElement(ln,{query:t}))}}}]);