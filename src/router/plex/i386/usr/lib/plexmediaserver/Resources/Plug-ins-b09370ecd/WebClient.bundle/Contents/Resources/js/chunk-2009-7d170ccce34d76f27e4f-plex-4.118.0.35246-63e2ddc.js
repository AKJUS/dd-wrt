"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[2009],{20154:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(94184),l=r.n(n),i=r(67294),a=r(64036);function o({className:e="RowSelectButton-selectButtonContainer-tTR26j",visibleClassName:t="RowSelectButton-isVisible-Xuw8OY",isSelected:r,isInSelectionRange:n,isVisible:o,title:s,tabIndex:c,onPress:u}){return i.createElement("div",{className:l()(e,o&&t)},i.createElement(a.Z,{"aria-hidden":-1===c?"true":void 0,className:"RowSelectButton-selectButton-RIxDKH SelectButton-selectButton-SvPc9f Link-link-vSsQW1",isInSelectionRange:n,isSelected:r,tabIndex:c,title:s,onPress:u}))}},12009:(e,t,r)=>{r.r(t),r.d(t,{default:()=>sn});var n=r(67294),l=r(69605),i=r(74309),a=r(2200),o=r(82051),s=r(28216),c=r(13469),u=r(48871),m=r(75549),d=r(5513),v=r(60316),f=r(27082),p=r(5562),h=r(84936),y=r(40872),g=r(31235),Z=r(14146),E=r(19595),P=r(67720),b=r(24546),S=r(13517),I=r(76714),k=r(8980),C=r(41768),R=r(72325),O=r(98640),L=r(41542),x=r(73154),w=r(57051),T=r(71594),j=r(55247),N=r(6642),M=r(17867),z=r(38205),A=r(36900),B=r(42460),H=r(21641),q=r(52598),D=r(42934);function W({pivot:e}){const t=(0,s.I0)(),{pivot:r}=(0,s.v9)(A.Z),l=(0,n.useMemo)((()=>e===H.mr.TopResults?(0,p.Z)("Top Results"):(0,q.Z)(e)),[e]),i=(0,n.useCallback)((()=>{t(B.Z.actions.setPivot(e)),t(B.Z.actions.markPending())}),[t,e]);return n.createElement("div",{className:r===e?"ExperimentalQuickSearchResultsPageHeader-activePivot-RDus3g":void 0},n.createElement(L.zx,{onPress:i},l))}function K(){const{query:e,pivot:t,isPending:r}=(0,s.v9)(A.Z),l=(0,s.v9)(M.Z),i=(0,n.useMemo)((()=>r?(0,p.Z)('Searching for "{query}"',{query:e}):t===H.mr.TopResults?(0,p.Z)('Top Results for "{query}"',{query:e}):(0,p.Z)('Search results for "{query}" in {pivot}',{query:e,pivot:(0,q.Z)(t)})),[e,t,r]),a=(0,z.Z)();return n.createElement(x.Kq,{gap:"m",paddingY:"m"},l?n.createElement(N.Z,null):n.createElement(D.Z,null,n.createElement(j.Z,null,n.createElement(x.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},e?n.createElement(T.x,{as:"h1",level:"heading-2"},i):null,r?n.createElement(w.$,{size:"s"}):null))),a.length?n.createElement("div",{className:"ExperimentalQuickSearchResultsPageHeader-pivotButtons-Rd7z15"},n.createElement(x.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},n.createElement(W,{pivot:H.mr.TopResults}),a.map((e=>n.createElement(W,{key:e,pivot:e}))))):null)}var U=r(5977),Q=(r(93552),r(90071)),F=r(22122),G=r(19756),$=r(92600);n.Component,n.Component;var _=function(e,t){return"function"==typeof e?e(t):e},X=function(e,t){return"string"==typeof e?(0,Q.ob)(e,null,null,t):e},Y=function(e){return e},V=n.forwardRef;void 0===V&&(V=Y);var J=V((function(e,t){var r=e.innerRef,l=e.navigate,i=e.onClick,a=(0,G.Z)(e,["innerRef","navigate","onClick"]),o=a.target,s=(0,F.Z)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),l())}});return s.ref=Y!==V&&t||r,n.createElement("a",s)})),ee=V((function(e,t){var r=e.component,l=void 0===r?J:r,i=e.replace,a=e.to,o=e.innerRef,s=(0,G.Z)(e,["component","replace","to","innerRef"]);return n.createElement(U.s6.Consumer,null,(function(e){e||(0,$.Z)(!1);var r=e.history,c=X(_(a,e.location),e.location),u=c?r.createHref(c):"",m=(0,F.Z)({},s,{href:u,navigate:function(){var t=_(a,e.location);(i?r.replace:r.push)(t)}});return Y!==V?m.ref=t||o:m.innerRef=o,n.createElement(l,m)}))})),te=function(e){return e},re=n.forwardRef;void 0===re&&(re=te),re((function(e,t){var r=e["aria-current"],l=void 0===r?"page":r,i=e.activeClassName,a=void 0===i?"active":i,o=e.activeStyle,s=e.className,c=e.exact,u=e.isActive,m=e.location,d=e.sensitive,v=e.strict,f=e.style,p=e.to,h=e.innerRef,y=(0,G.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return n.createElement(U.s6.Consumer,null,(function(e){e||(0,$.Z)(!1);var r=m||e.location,i=X(_(p,r),r),g=i.pathname,Z=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=Z?(0,U.LX)(r.pathname,{path:Z,exact:c,sensitive:d,strict:v}):null,P=!!(u?u(E,r):E),b=P?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(s,a):s,S=P?(0,F.Z)({},f,{},o):f,I=(0,F.Z)({"aria-current":P&&l||null,className:b,style:S,to:i},y);return te!==re?I.ref=t||h:I.innerRef=h,n.createElement(ee,I)}))}));var ne=r(52725),le=r(17524),ie=r(93021),ae=r(65671),oe=r(51139),se=r(29298);function ce(){const e=(0,oe.Z)(ie.G.IncludeDiscoverSource);return n.createElement(x.Kq,{gap:"m",verticalAlign:"top",width:"100%"},n.createElement(K,null),n.createElement(S.Z,{description:e?n.createElement(ae.Z,{message:(0,p.Z)("Try adjusting your search term or filter to find what you’re looking for. Visit {openLink}Discover{closeLink} to find more content."),tags:[{open:"openLink",close:"closeLink",component:ee,color:"accent",href:(0,se.Z)("media",{providerIdentifier:le.Xp},{source:ne.Sd})}]}):(0,p.Z)("Try adjusting your search term or filter to find what you’re looking for."),icon:n.createElement(u.default,{color:"accent",size:"xxxl"}),title:(0,p.Z)("No Results Found")}))}var ue=r(41921),me=r(11956),de=r(26098),ve=r(520),fe=r(46396),pe=r(74257),he=r(77045),ye=r(20154),ge=r(56658),Ze=r(79026),Ee=r(15762),Pe=r(70048),be=r(73219);const Se={underlay:"SearchResultLinkUnderlay-underlay-fZb5JY Link-link-vSsQW1"};var Ie=Object.defineProperty,ke=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,Re=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,xe=(e,t,r)=>t in e?Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,we=(e,t)=>{for(var r in t||(t={}))Oe.call(t,r)&&xe(e,r,t[r]);if(Re)for(var r of Re(t))Le.call(t,r)&&xe(e,r,t[r]);return e},Te=(e,t)=>ke(e,Ce(t));function je(e){var t=e,{className:r=Se.underlay,mergedResult:l,result:i}=t,a=((e,t)=>{var r={};for(var n in e)Oe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Re)for(var n of Re(e))t.indexOf(n)<0&&Le.call(e,n)&&(r[n]=e[n]);return r})(t,["className","mergedResult","result"]);const[o,c]=(0,g.c9)(),{onResultSelect:u}=(0,O.x)(),m=(0,s.v9)(Ze.Z),d=(0,n.useMemo)((()=>l?(0,Pe.Z)(m,l):i),[m,l,i]),v=(0,n.useMemo)((()=>(0,be.Em)(d)?null:(0,Ee.Z)({server:o,provider:c,result:d})),[c,d,o]),f=(0,n.useCallback)((()=>{null==u||u(d)}),[u,d]);return v?n.createElement(pe.Z,Te(we({},a),{className:r,to:v,onPress:f})):n.createElement(pe.Z,Te(we({},a),{className:r,onPress:f}))}var Ne=r(23321),Me=r(34909);var ze=Object.defineProperty,Ae=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,We=(e,t,r)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ke=(e,t)=>{for(var r in t||(t={}))qe.call(t,r)&&We(e,r,t[r]);if(He)for(var r of He(t))De.call(t,r)&&We(e,r,t[r]);return e},Ue=(e,t)=>Ae(e,Be(t)),Qe=(e,t)=>{var r={};for(var n in e)qe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&He)for(var n of He(e))t.indexOf(n)<0&&De.call(e,n)&&(r[n]=e[n]);return r};function Fe(e){var t=e,{item:r,cellIndex:l,isScrolling:i}=t,a=Qe(t,["item","cellIndex","isScrolling"]);const o=(0,me.Z)(a),[s,c]=(0,he.Z)();if(!r)return null;const u=(0,be.Em)(r)?r:void 0,m=(0,be.Em)(r)?r.items[0]:r;return(0,be.jc)(m)?n.createElement($e,Ue(Ke({},o),{hoverRef:c,isHovered:s,isScrolling:i,mergedResult:u,result:m})):n.createElement(Ge,Ue(Ke({},o),{hoverRef:c,isHovered:s,isScrolling:i,mergedResult:u,result:m}))}function Ge(e){var t=e,{children:r,mergedResult:l,result:i,hoverRef:a,isHovered:o,isScrolling:c,onSelectPress:u}=t,m=Qe(t,["children","mergedResult","result","hoverRef","isHovered","isScrolling","onSelectPress"]);const d=(0,s.v9)(M.Z);return n.createElement("div",Ke({},m),n.createElement(Me.Z,{ref:a,isHovered:o},d?n.createElement(pe.Z,{className:"SearchResultCell-selectOverlay-I1EDig Link-link-vSsQW1",onPress:u}):n.createElement(je,{mergedResult:l,result:i}),n.createElement("div",{className:"SearchResultCell-overlay-FuFnS2"},n.createElement(Ne.Z,{isHighlighted:o,isScrolling:c,mergedResult:l,result:i})),r),n.createElement(ue.i,{size:"s"}))}function $e(e){var t=e,{result:r,isHovered:l}=t,i=Qe(t,["result","isHovered"]);const a=(0,s.I0)(),[o,c]=(0,g.c9)(),u=r.item,m=(0,de.Z)(u.sourceURI),{isSelected:d,isInSelectionRange:v,onToggleSelect:f}=(0,ge.Z)({isHovered:l,metadataItem:u,metadataItemState:m});return(0,n.useEffect)((()=>{!o.isCloud&&m.isStale&&a(ve.Z.actions.fetchMetadataItem({server:o,provider:c,key:u.key}))}),[a,u,m.isStale,c,o]),n.createElement(Ge,Ue(Ke({},i),{isHovered:l,result:r,onSelectPress:f}),n.createElement(ye.Z,{className:"SearchResultCell-selectButtonContainer-xYPpGS",isInSelectionRange:v,isSelected:d,isVisible:d||v||l,title:(0,fe.Z)(u),onPress:f}))}var _e=r(42722),Xe=r(41259),Ye=r(3852),Ve=r(7910),Je=r(36996),et=r(12669),tt=r(7796),rt=Object.defineProperty,nt=Object.defineProperties,lt=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,st=(e,t,r)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ct=(e,t)=>{for(var r in t||(t={}))at.call(t,r)&&st(e,r,t[r]);if(it)for(var r of it(t))ot.call(t,r)&&st(e,r,t[r]);return e},ut=(e,t)=>nt(e,lt(t));const mt=parseInt(tt.Z.v4PagePadding,10);function dt({pivot:e,query:t}){const[r,l]=(0,n.useState)(!1),i=(0,n.useRef)(null),a=(0,s.I0)(),o=(0,m.b)(),[L,x]=(0,n.useState)(null),[w,T]=(0,n.useState)(!0),j=(0,Xe.Z)(),N=(0,P.Z)(),M=(0,z.Z)(),{query:H,pivot:q,isPending:D,isPopulated:W}=(0,s.v9)(A.Z),U=(0,s.v9)((0,Ye.Z)());(0,E.Z)(),(0,n.useEffect)((()=>{L&&((0,be.Em)(L)?(Q.onOpen(),N(L.items[0])):(j(L,w),x(null),T(!0)))}),[L]),(0,n.useEffect)((()=>(i.current&&window.clearTimeout(i.current),i.current=window.setTimeout((()=>{a((0,d.c4)({pathname:h.Z.join(Je.Z.search,{pivot:q,query:H}),replace:!0}))}),y.Xt),()=>{i.current&&window.clearTimeout(i.current)})),[H,a,q]),(0,n.useEffect)((()=>{(0,f.c9)((()=>{e&&a(B.Z.actions.setPivot(e)),t&&a(B.Z.actions.setQuery(t))}))}),[]),(0,n.useEffect)((()=>()=>{a(B.Z.actions.setQuery("")),a(B.Z.actions.clearResults())}),[a]);const Q=(0,n.useMemo)((()=>ut(ct({},o),{onOpenChange:e=>{o.onOpenChange(e),e||(x(null),T(!0))}})),[o]),F=(0,n.useCallback)((e=>{const{item:t}=e;if(!t)return n.createElement(n.Fragment,null);const l=(0,be.Em)(t)?t.items[0]:t,{serverIdentifier:i,providerIdentifier:a}=(0,v.Z)(l.source);return n.createElement(g.ZP,{key:(0,Ve.Z)(t),machineIdentifier:i,providerIdentifier:a},n.createElement(Fe,ut(ct({},e),{isScrolling:r})))}),[r]),G=(0,_e.Z)(),$=(0,n.useMemo)((()=>(0,Z.Z)({rowHeight:G+2*(0,et.Z)("s"),overscan:1,outerPaddingLeft:mt,outerPaddingRight:mt})),[G]),_=(0,n.useCallback)(((e,t)=>{x(e),T(t)}),[]),X=(0,n.useMemo)((()=>(0,c.debounce)((()=>{l(!1)}),200)),[]),Y=(0,n.useCallback)((()=>{l(!0),X()}),[X]);return H?(null==M?void 0:M.length)?H&&!W?n.createElement(S.Z,null,n.createElement(C.Z,null)):!D&&W&&0===U.length?n.createElement(ce,null):n.createElement(b.Z,{scrollDirection:I.I.None},n.createElement(K,null),n.createElement(O.Z,{onResultSelect:_},n.createElement(k.Z,{cellComponentFactory:F,items:U,layout:$,totalSize:U.length,onScrollPositionChange:Y}),L&&(0,be.Em)(L)?n.createElement(R.Z,{mergedResult:L,modalState:Q,onResultSelect:_}):null)):n.createElement(S.Z,{description:(0,p.Z)("Please enable at least one source in search settings and try again."),icon:n.createElement(u.default,{color:"accent",size:"xxxl"})}):n.createElement(S.Z,{description:(0,p.Z)("You can search for Titles, People, Genres and more..."),icon:n.createElement(u.default,{color:"accent",size:"xxxl"})})}var vt=r(87212),ft=r(39537),pt=r(94173),ht=r(1811),yt=r(14877),gt=r(14789),Zt=r(12415),Et=r(41538),Pt=r(36322),bt=r(89894),St=r(24418),It=r(28582),kt=r(17467),Ct=r(89186),Rt=r(75212),Ot=r(6033),Lt=r(94184),xt=r.n(Lt),wt=r(94372),Tt=r(42423),jt=r(39272),Nt=r(5178),Mt=r(54778),zt=r(31298),At=r(69557),Bt=r(37991),Ht=r(70537);const qt="SearchAvailabilityPlatformPosterListItem-title-zuBWeH MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu";var Dt=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable;function Ut({platformResult:e,posterSize:t}){const[r,l]=(0,g.c9)(),i=(0,P.Z)(),{metricsContextTuple:o}=(0,a.Zn)(),s=(0,Ee.Z)({result:e,server:r,provider:l,metricsContextTuple:o}),{hoverRef:c,isHovered:u,isActionsMenuOpen:m,isActionsMenuClosing:d,isActionsPending:v,isActionsVisible:f,onActionsMenuClose:p,onActionsMenuToggle:h,actionsMenuButtonID:y}=(0,Ht.Z)({server:r,provider:l}),Z=String(e.item.id),{confirmServiceToggleModal:E,toggleServiceMenuItem:b}=(0,Bt.Z)({service:Z,onMenuClose:p}),S=(0,n.useCallback)((()=>{i(e)}),[i,e]);return n.createElement(x.Kq,{align:"center",gap:"xxs"},n.createElement(jt.Z,{ref:c,className:"SearchAvailabilityPlatformPosterListItem-card-XNDYK_ PosterCard-card-BRB1k_"},n.createElement(At.Z,{imageClassName:"SearchAvailabilityPlatformPosterListItem-poster-lbPsen",posterSize:t,tag:e.item}),s?n.createElement(Nt.Z,{className:"SearchAvailabilityPlatformPosterListItem-link-uR5v67 PosterCardLink-link-LozvMm Link-link-vSsQW1",hoverClassName:"SearchAvailabilityPlatformPosterListItem-hoveredLink-T4akHO PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1",isHovered:u,to:s,onPress:S}):null,f?n.createElement(Tt.Z,{className:xt()("SearchAvailabilityPlatformPosterListItem-moreButton-cEgs15 MetadataPosterCardActions-moreButton-kNJ7sJ MetadataPosterCardActions-button-YYlmeL Link-link-vSsQW1",!u&&d&&"SearchAvailabilityPlatformPosterListItem-isHidden-aTxvGN"),id:y,isPending:v,tabIndex:-1,onPress:h}):null,n.createElement(wt.Z,{isOpen:m,target:y,onMenuClose:p},b),E),s?n.createElement(pe.Z,{className:qt,"data-testid":"metadataTitleLink",title:e.item.tag,to:s,onPress:S},e.item.tag):n.createElement("span",{className:qt,title:e.item.tag},e.item.tag))}const Qt=n.forwardRef(((e,t)=>{var r=e,{item:l}=r,i=((e,t)=>{var r={};for(var n in e)Wt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Dt)for(var n of Dt(e))t.indexOf(n)<0&&Kt.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const a=(0,Mt.Z)(i);if(!l)return null;const o=(0,v.Z)(l.source);return n.createElement("div",{ref:(0,zt.Z)(t,a.cellRef),"data-testid":"cellItem",style:a.style},n.createElement(g.ZP,{machineIdentifier:o.serverIdentifier,providerIdentifier:o.providerIdentifier},n.createElement(Ut,{platformResult:l,posterSize:i.cellWidth})))}));var Ft=r(34007),Gt=r(88050),$t=r(91135),_t=r(59194),Xt=r(85180),Yt=r(46598),Vt=r(3360),Jt=r(65233),er=r(72071);const tr="SearchChannelPosterListItem-title-A92TyE undefined";var rr=Object.getOwnPropertySymbols,nr=Object.prototype.hasOwnProperty,lr=Object.prototype.propertyIsEnumerable;function ir({children:e,result:t}){const r=(0,n.useMemo)((()=>(null==t?void 0:t.source)?(0,v.Z)(t.source):null),[null==t?void 0:t.source]);return r?n.createElement(g.ZP,{machineIdentifier:r.serverIdentifier,providerIdentifier:r.providerIdentifier},e):n.createElement(n.Fragment,null,e)}function ar({channelResult:e,posterWidth:t}){var r;const l=(0,s.I0)(),[i,a]=(0,g.c9)(),[o,c]=(0,he.Z)(),u=(0,er.Z)({identifier:a.metricsIdentifier,type:ft.pG.Channel}),m=(0,P.Z)(),d=(0,n.useMemo)((()=>(0,Xt.Z)({width:t,aspectRatio:pt.oz})),[t]),v=(0,Yt.ZP)({server:i,provider:a,width:d.width,height:d.height,url:e.item.art}),f=(0,n.useCallback)((()=>{u({action:Gt.NH}),m(e),l((0,_t.gj)({server:i,provider:a,legacyAction:(0,Ft.lS)({options:{type:$t.pX,identifier:e.item.id}})}))}),[e,l,a,i,u,m]);return n.createElement(x.Kq,{gap:"xxs"},n.createElement(jt.Z,{ref:c},v?n.createElement(Jt.Z,{fit:Jt.k.Contain,height:d.height,src:v,width:d.width}):n.createElement("div",{className:"SearchChannelPosterListItem-emptyPoster-KgcQIO"}),n.createElement(Nt.Z,{isHovered:o,onPress:f},o?n.createElement(Vt.Z,{"aria-label":(0,p.Z)("Watch Now"),circleClassName:"SearchChannelPosterListItem-playButtonCircle-wS6tpq MetadataPosterCardActions-playCircle-rOnuVA PlayButton-playCircle-fK1f_v MetadataPosterCardCircle-cardCircle-gBHNQG",className:"SearchChannelPosterListItem-playButton-BngxNG MetadataPosterCardActions-playCoverButton-UfPjfq PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1 MetadataPosterCardActions-playButton-tT8c2I PlayButton-playButton-vS1WII MetadataPosterCardActions-button-YYlmeL Link-link-vSsQW1",onPress:f}):null)),n.createElement("div",{className:"SearchChannelPosterListItem-titleContainer-ACKZ0G"},n.createElement("div",{className:tr},e.item.title),(null==(r=e.item.categories)?void 0:r.length)?n.createElement("div",{className:xt()(tr,"SearchChannelPosterListItem-isSecondary-c4iiIh MetadataPosterCardTitle-isSecondary-gGuBpd")},e.item.categories[0]):null))}const or=n.forwardRef(((e,t)=>{var r=e,{item:l}=r,i=((e,t)=>{var r={};for(var n in e)nr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&rr)for(var n of rr(e))t.indexOf(n)<0&&lr.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const a=(0,Mt.Z)(i);return l?n.createElement("div",{ref:(0,zt.Z)(t,a.cellRef),"data-testid":"cellItem",style:a.style},n.createElement(ir,{result:l},n.createElement(ar,{channelResult:l,posterWidth:i.cellWidth}))):null}));var sr=r(50327),cr=r(8200);var ur=Object.getOwnPropertySymbols,mr=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable;function vr({children:e,result:t}){const r=(0,n.useMemo)((()=>(null==t?void 0:t.source)?(0,v.Z)(t.source):null),[null==t?void 0:t.source]);return r?n.createElement(g.ZP,{machineIdentifier:r.serverIdentifier,providerIdentifier:r.providerIdentifier},e):n.createElement(n.Fragment,null,e)}function fr({result:e,posterSize:t}){const[r,l]=(0,g.c9)(),[i,o]=(0,he.Z)(),s=(0,P.Z)(),{metricsContextTuple:c}=(0,a.Zn)(),u=(0,Yt.ZP)({server:r,provider:l,width:t,height:t,url:e.item.thumb}),m=(0,Ee.Z)({result:e,server:r,provider:l,metricsContextTuple:c}),d=(0,n.useCallback)((()=>{s(e)}),[e,s]);return n.createElement(x.Kq,{align:"center",gap:"xxs"},n.createElement(jt.Z,{ref:o,className:"SearchDirectoryPosterListItem-card-BsC5cr PosterCard-card-BRB1k_"},u?n.createElement(Jt.Z,{className:"SearchDirectoryPosterListItem-rounded-zBX_8Z",fit:Jt.k.Cover,height:t,src:u,width:t}):n.createElement(cr.Z,{className:"SearchDirectoryPosterListItem-anagram-UIZ4pb Anagram-anagram-H5cIHF",height:t,name:e.item.title,width:t}),m?n.createElement(Nt.Z,{className:"SearchDirectoryPosterListItem-link-bIIvRj PosterCardLink-link-LozvMm Link-link-vSsQW1",hoverClassName:"SearchDirectoryPosterListItem-hoveredLink-x5Rcqx PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1",isHovered:i,to:m,onPress:d}):null),n.createElement(sr.Z,{className:"SearchDirectoryPosterListItem-title-MQLMMw MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu",metadataItem:e.item,onPress:d}))}const pr=n.forwardRef(((e,t)=>{var r=e,{item:l}=r,i=((e,t)=>{var r={};for(var n in e)mr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ur)for(var n of ur(e))t.indexOf(n)<0&&dr.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const a=(0,Mt.Z)(i);return l?n.createElement("div",{ref:(0,zt.Z)(t,a.cellRef),"data-testid":"cellItem",style:a.style},n.createElement(vr,{result:l},n.createElement(fr,{posterSize:i.cellWidth,result:l}))):null}));var hr=r(40391),yr=Object.defineProperty,gr=Object.defineProperties,Zr=Object.getOwnPropertyDescriptors,Er=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable,Sr=(e,t,r)=>t in e?yr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Ir(e){var t,r=e,{result:l,mergedResult:i}=r,a=((e,t)=>{var r={};for(var n in e)Pr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Er)for(var n of Er(e))t.indexOf(n)<0&&br.call(e,n)&&(r[n]=e[n]);return r})(r,["result","mergedResult"]);const o=(0,P.Z)(),s=(0,n.useCallback)((()=>{o(l)}),[l,o]);return n.createElement(hr.Z,(c=((e,t)=>{for(var r in t||(t={}))Pr.call(t,r)&&Sr(e,r,t[r]);if(Er)for(var r of Er(t))br.call(t,r)&&Sr(e,r,t[r]);return e})({},a),u={item:l.item,mergedResult:i,routeKey:(null==(t=l.item)?void 0:t.type)===ft.pG.Track?"parentKey":"key",onPress:s},gr(c,Zr(u))));var c,u}var kr=r(9429);const Cr="SearchTagPosterListItem-title-Fc4H1e MetadataPosterCardTitle-singleLineTitle-lPd1B2 MetadataPosterCardTitle-title-ImAmGu";var Rr=Object.getOwnPropertySymbols,Or=Object.prototype.hasOwnProperty,Lr=Object.prototype.propertyIsEnumerable;function xr({children:e,result:t}){const r=(0,n.useMemo)((()=>(null==t?void 0:t.source)?(0,v.Z)(t.source):null),[null==t?void 0:t.source]);return r?n.createElement(g.ZP,{machineIdentifier:r.serverIdentifier,providerIdentifier:r.providerIdentifier},e):n.createElement(n.Fragment,null,e)}function wr({tagResult:e,posterSize:t,mergedResult:r}){const[l,i]=(0,g.c9)(),[o,s]=(0,he.Z)(),c=(0,P.Z)(),{metricsContextTuple:u}=(0,a.Zn)(),m=(0,Ee.Z)({result:e,server:l,provider:i,metricsContextTuple:u}),d=(0,n.useCallback)((()=>{c(e)}),[e,c]);return n.createElement(x.Kq,{align:"center",gap:"xxs"},n.createElement(jt.Z,{ref:s,className:"SearchTagPosterListItem-card-DoBAj7 PosterCard-card-BRB1k_"},n.createElement(At.Z,{imageClassName:"SearchTagPosterListItem-poster-K7H4vg",posterSize:t,tag:e.item}),m?n.createElement(Nt.Z,{className:"SearchTagPosterListItem-link-AP6yHU PosterCardLink-link-LozvMm Link-link-vSsQW1",hoverClassName:"SearchTagPosterListItem-hoveredLink-VfnTkp PosterCardLink-hoveredLink-H5OMFC PosterCardLink-link-LozvMm Link-link-vSsQW1",isHovered:o,to:m,onPress:d}):null),m?n.createElement(pe.Z,{className:Cr,"data-testid":"metadataTitleLink",title:e.item.tag,to:m,onPress:d},e.item.tag):n.createElement("span",{className:Cr,title:e.item.tag},e.item.tag),n.createElement(kr.Z,{mergedResult:r}))}const Tr=n.forwardRef(((e,t)=>{var r=e,{item:l,mergedResult:i}=r,a=((e,t)=>{var r={};for(var n in e)Or.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Rr)for(var n of Rr(e))t.indexOf(n)<0&&Lr.call(e,n)&&(r[n]=e[n]);return r})(r,["item","mergedResult"]);const o=(0,Mt.Z)(a);return l?n.createElement("div",{ref:(0,zt.Z)(t,o.cellRef),"data-testid":"cellItem",style:o.style},n.createElement(xr,{result:l},n.createElement(wr,{mergedResult:i,posterSize:a.cellWidth,tagResult:l}))):null}));var jr=r(28277),Nr=r(29039);function Mr(){const{query:e,pivot:t,isPending:r}=(0,s.v9)(A.Z),l=(0,s.v9)(M.Z),i=(0,n.useMemo)((()=>r?(0,p.Z)('Searching for "{query}"',{query:e}):t===H.mr.TopResults?(0,p.Z)('Top search results for "{query}"',{query:e}):(0,p.Z)('Search results for "{query}" in {pivot}',{query:e,pivot:(0,q.Z)(t)})),[e,t,r]);return l?n.createElement(N.Z,null):n.createElement(D.Z,null,n.createElement(j.Z,null,n.createElement(x.Kq,{gap:"m",orientation:"horizontal"},e?n.createElement(T.x,{as:"h1",color:"muted",level:"heading-2"},i):null,r?n.createElement(w.$,{size:"s"}):null)),n.createElement(jr.Z,null,n.createElement(Nr.Z,{listStyles:[Et.n.Search],selectedListStyle:Et.n.Search})))}var zr=r(23777),Ar=r(48435),Br=r(30373),Hr=r(82913);var qr=Object.defineProperty,Dr=Object.defineProperties,Wr=Object.getOwnPropertyDescriptors,Kr=Object.getOwnPropertySymbols,Ur=Object.prototype.hasOwnProperty,Qr=Object.prototype.propertyIsEnumerable,Fr=(e,t,r)=>t in e?qr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gr=(e,t)=>{for(var r in t||(t={}))Ur.call(t,r)&&Fr(e,r,t[r]);if(Kr)for(var r of Kr(t))Qr.call(t,r)&&Fr(e,r,t[r]);return e},$r=(e,t)=>Dr(e,Wr(t));const _r=parseInt(tt.Z.v4PagePadding,10),Xr=parseInt(tt.Z.v4CardTitleHeight,10),Yr=parseInt(tt.Z.v4CardTitleGap,10),Vr=parseInt(tt.Z.v4CardShadowSize,10),Jr=parseInt(tt.Z.gapMedium,10);function en(e){return e.results.length?e.results.reduce(((t,r)=>{if((0,be.s_)(r)){const n=e.id,l=t.find((({hub:e})=>e.key===n));if(l)l.items.push(r),l.hub.initialSize++;else{const{source:l,sourceURI:i}=r,a={hub:tn({title:(0,p.Z)("Channels"),context:`hub.${e.id}.${Et.U.Channels}`,type:Et.U.Channels,key:n,source:l,sourceURI:i}),items:[r]};t.push(a)}}else if((0,be.g$)(r)){const n=(0,be.Em)(r)?r.type:r.item.tagType;if(null==n)return t;const l=(0,yt.Z)(n),i=`${e.id}-${l}`,a=t.find((({hub:e})=>e.key===i));if(a)a.items.push(r),a.hub.initialSize++;else{const{source:n,sourceURI:a}=(0,be.Em)(r)?r.items[0]:r,o={hub:tn({title:(0,gt.Z)(l,!0),context:`hub.${e.id}.${Et.U.Person}`,type:Et.U.Person,key:i,source:n,sourceURI:a}),items:[r]};t.push(o)}}else if((0,be.jc)(r)||(0,be.EX)(r)){const{type:n,subtype:l}=(0,be.Em)(r)?r.items[0].item:r.item,i=function(e,t){return t===ft.y_.Clip?Et.U.Clip:(0,bt.Z)(e)}(n,l),a=`${e.id}-${i}`,o=t.find((({hub:e})=>e.key===a));if(!o&&i){const{source:o,sourceURI:s}=(0,be.Em)(r)?r.items[0]:r,c={hub:tn({title:(0,ht.Z)({metadataType:n,metadataSubtype:l,isPlural:!0}),context:`hub.${e.id}.${i}`,type:i,key:a,source:o,sourceURI:s}),items:[r]};t.push(c)}else o&&(o.items.push(r),o.hub.initialSize++)}return t}),[]):null}function tn({type:e,key:t,title:r,source:n,sourceURI:l,context:i}){return{type:e,more:!1,initialSize:1,isStale:!1,key:t,hubIdentifier:"",source:n,sourceURI:l,title:r,context:i}}function rn({index:e,hub:t,items:r}){const[l,i]=(0,g.c9)(),o=(0,s.v9)(Rt.Z),c=(0,n.useMemo)((()=>t.type===Et.U.Person?(0,kt.Z)({columnWidth:o,aspectRatio:pt.Zp,titleHeight:2*Xr+Yr,innerHorizontalPadding:Jr,outerPaddingTop:Vr,outerPaddingRight:_r,outerPaddingBottom:Vr,outerPaddingLeft:_r}):(0,Pt.Z)({listType:t.type,listStyle:Et.n.Search,columnWidth:o,titleCount:t.type===Et.U.Channels?2:void 0})),[t,o]),u=(0,n.useMemo)((()=>o=>o.item?n.createElement(Zt.ZP,{key:(0,Ve.Z)(o.item),containerProvider:i,containerServer:l,containerType:t.type,listStyle:Et.n.Search},n.createElement(Hr.ZP,{items:r},n.createElement(a.ZP,{column:o.column,name:t.context,row:e},n.createElement(ln,Gr({},o))))):n.createElement(n.Fragment,null)),[t.context,t.type,e,r,i,l]);return n.createElement(It.Z,{cellComponentFactory:u,hub:t,hubTitleComponent:nn,items:r,layout:c,totalSize:r.length})}function nn({hub:e}){return n.createElement(St.Z,null,e.title," (",e.initialSize,")")}function ln(e){var t=((e,t)=>{var r={};for(var n in e)Ur.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Kr)for(var n of Kr(e))t.indexOf(n)<0&&Qr.call(e,n)&&(r[n]=e[n]);return r})(e,[]);if(!t.item)return null;const r=(0,be.Em)(t.item)?t.item.items[0]:t.item;return(0,be.s_)(r)?n.createElement(or,$r(Gr({},t),{item:r})):(0,be.g$)(r)?r.item.tagType===ft.dx.AvailabilityPlatform?n.createElement(Qt,$r(Gr({},t),{item:r})):n.createElement(Tr,$r(Gr({},t),{item:r,mergedResult:(0,be.Em)(t.item)?t.item:void 0})):(0,be.jc)(r)?n.createElement(Ir,$r(Gr({},t),{mergedResult:(0,be.Em)(t.item)?t.item:void 0,result:r})):(0,be.EX)(r)?n.createElement(pr,$r(Gr({},t),{item:r})):null}function an({query:e}){const t=(0,n.useRef)(null),r=(0,s.I0)(),{query:l,isPopulated:i}=(0,s.v9)(A.Z),a=(0,s.v9)((0,Ar.Z)()),o=(0,s.v9)((0,zr.Z)()),c=(0,oe.Z)(ie.G.IncludeDiscoverSource),m=(0,n.useMemo)((()=>(0,Br.Z)(a,o).filter((e=>e.results.length>0)).map((e=>$r(Gr({},e),{hubs:en(e)})))),[o,a]);if((0,n.useEffect)((()=>(t.current&&window.clearTimeout(t.current),t.current=window.setTimeout((()=>{r((0,d.c4)({pathname:h.Z.join(Je.Z.search,{query:l}),replace:!0}))}),y.Xt),()=>{t.current&&window.clearTimeout(t.current)})),[l,r]),(0,n.useEffect)((()=>{e&&!i&&(0,f.c9)((()=>{r(B.Z.actions.setQuery(e))}))}),[]),!l)return n.createElement(S.Z,{description:(0,p.Z)("You can search for Titles, People, Genres and more..."),icon:n.createElement(u.default,{color:"accent",size:"xxxl"})});if(l&&!i)return n.createElement(S.Z,null,n.createElement(C.Z,null));if(i&&0===m.length)return n.createElement(S.Z,{description:c?n.createElement(ae.Z,{message:(0,p.Z)("Try adjusting your search term or filter to find what you’re looking for. Visit {openLink}Discover{closeLink} to find more content."),tags:[{open:"openLink",close:"closeLink",component:vt.rU,color:"accent",href:(0,se.Z)("media",{providerIdentifier:le.Xp},{source:ne.Sd})}]}):(0,p.Z)("Try adjusting your search term or filter to find what you’re looking for."),icon:n.createElement(u.default,{color:"accent",size:"xxxl"}),title:(0,p.Z)("No Results Found")});let Z=0;return n.createElement(b.Z,{scrollDirection:I.I.None},n.createElement(Mr,null),n.createElement(Ct.Z,null,m.map(((e,t)=>{var r,l,i;return(null==(r=e.hubs)?void 0:r.length)?(Z+=(null==(i=null==(l=m[t-1])?void 0:l.hubs)?void 0:i.length)||0,n.createElement(n.Fragment,{key:e.id},n.createElement("div",{className:"SearchResultsPage-sectionTitle-BThL8n"},n.createElement(x.Kq,{gap:"m",orientation:"horizontal",verticalAlign:"center"},n.createElement(T.x,{level:"heading-3"},e.title),n.createElement(Ot.Z,{group:e}))),e.hubs.map((({hub:e,items:t},r)=>{const{serverIdentifier:l,providerIdentifier:i}=(0,v.Z)(e.source);return n.createElement(g.ZP,{key:e.key,machineIdentifier:l,providerIdentifier:i},n.createElement(rn,{hub:e,index:Z+r,items:t}))})))):null}))))}var on=r(75989);function sn(){const e=(0,i.Z)(),t=(0,on.Z)(e.query),r=(0,on.Z)(e.pivot),s=(0,o.Z)();return n.createElement(a.ZP,{metricsPage:l.Re},s?n.createElement(dt,{pivot:r,query:t}):n.createElement(an,{query:t}))}}}]);